<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Transaction</title>
  </head>
  <body class="container mx-auto">
    <header>
      <h1 class="text-3xl text-center font-bold my-8">
        Let's get some <span class="text-green-600">Moooooooney</span>!!!!
      </h1>
    </header>
    <main class="p-16 bg-green-200 text-center rounded-2xl">
      <section>
        <div
          class="grid sm:grid-cols-1 sm:gap-y-6 md:grid-cols-3 md:gap-x-10 justify-around justify-items-center"
        >
          <div
            class="bg-sky-300 text-white text-center rounded-xl px-10 py-4 text-2xl font-semibold min-w-full h-auto"
          >
            <h3>Deposit</h3>
            <h2>$<span id="deposit-total">00</span></h2>
          </div>

          <div
            class="bg-teal-600 text-white text-center rounded-xl px-10 py-4 text-2xl font-semibold min-w-full h-auto"
          >
            <h3>Withdrawal</h3>
            <h2>$<span id="withdraw-total">00</span></h2>
          </div>

          <div
            class="bg-teal-900 text-white text-center rounded-xl px-10 py-4 text-2xl font-semibold min-w-full h-auto"
          >
            <h3>Total</h3>
            <h2>$<span id="balance-total">1240</span></h2>
          </div>
        </div>
      </section>


      <!-- Deposit and Withdrawal -->
      <section class="mt-12">
        <div
          class="grid sm:grid-cols-1 sm:gap-y-6 md:grid-cols-2 md:gap-x-10 justify-around justify-items-center"
        >
          <div
            class="bg-blue-600 text-white text-center rounded-xl px-10 py-4 text-2xl font-semibold min-w-full h-auto"
          >
            <h3>Please Deposit</h3>
            <input
              type="text"
              id="input-deposit-field"
              name="full-name"
              class="my-4 w-9/12 bg-gray-100 bg-opacity-10 rounded border border-gray-300 focus:border-blue-500 focus:bg-transparent focus:ring-2 focus:ring-blue-200 text-base outline-none text-white-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"
              placeholder="$ Amount of Deposit"
            />
            <br />
            <button
              id="btn-deposit"
              class="rounded-lg px-8 bg-green-600 py-2 text-center text-xl hover:bg-green-800 hover:text-white"
              type="submit"
            >
              Deposit
            </button>
          </div>

          <div
            class="bg-blue-600 text-white text-center rounded-xl px-10 py-4 text-2xl font-semibold min-w-full h-auto"
          >
            <h3>Please Withdrawal</h3>
            <input
              type="text"
              id="input-withdrawal-field"
              name="full-name"
              class="my-4 w-9/12 bg-gray-100 bg-opacity-10 rounded border border-gray-300 focus:border-blue-500 focus:bg-transparent focus:ring-2 focus:ring-blue-200 text-base outline-none text-white-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"
              placeholder="$ Amount of Withdrawal"
            />
            <br />
            <button
              id="btn-withdrawal"
              class="rounded-lg px-8 bg-green-600 py-2 text-center text-xl hover:bg-green-800 hover:text-white"
              type="submit"
            >
              Withdrawal
            </button>
          </div>
        </div>
      </section>
    </main>

    <script src="./login.js"></script>
    <script>
      //step 1: define add event handlers deposit button
      document.getElementById('btn-deposit').addEventListener('click', function(){
      // Step 2: define add event handlers input field for deposit amount
        const inputDesposit = document.getElementById('input-deposit-field');
        //step 3: define add event handlers input field for deposit amount value
        const newInputDespositAmountString = inputDesposit.value;
        const newInputDespositAmount = parseFloat(newInputDespositAmountString);

        inputDesposit.value = '';

        if (isNaN(newInputDespositAmount)) {
            alert('Please enter a valid number');
            return;
          }

        //step 4: define add event handlers deposit amount display section
        const depositTotal = document.getElementById('deposit-total');
        //step 5: define add event handlers deposit amount display section inner text
        const previousDepositTotalAmountString = depositTotal.innerText;
        const previousDepositTotalAmount = parseFloat(previousDepositTotalAmountString);

        // calculation total amount display
        const currentDepositAmount = newInputDespositAmount + previousDepositTotalAmount;
        // Step 6: convert input amount to text in display for deposit amount

        depositTotal.innerText = currentDepositAmount;

        // Balance total amount
        const balanceTotal = document.getElementById('balance-total');
        const previousBalanceTotalString = balanceTotal.innerText;
        const previousBalanceTotal = parseFloat(previousBalanceTotalString);


        // Balance total amount calculation between new deposit and previous deposit
        const currentBalanceTotal = previousBalanceTotal + newInputDespositAmount;
        balanceTotal.innerText = currentBalanceTotal;
        // input amount clear when deposit amount displayed
       


        
      })


      // Withdraw Section start here

        //step 1:
        document.getElementById('btn-withdrawal').addEventListener('click', function(){

          //step 2:
          const withdrawField = document.getElementById('input-withdrawal-field');
          const newWithdrawAmountString = withdrawField.value;
          const newWithdrawAmount = parseFloat(newWithdrawAmountString);

          withdrawField.value = '';

          if (isNaN(newWithdrawAmount)) {
            alert('Please enter a valid number');
            return;
          }

          //step 3

          const withdrawAmount = document.getElementById('withdraw-total');
          const previousWithdrawAmountString = withdrawAmount.innerText;
          const previousWithdrawAmount = parseFloat(previousWithdrawAmountString);

         

           // Balance total amount
        const balanceTotal = document.getElementById('balance-total');
        const previousBalanceTotalString = balanceTotal.innerText;
        const previousBalanceTotal = parseFloat(previousBalanceTotalString);

        

        if (newWithdrawAmount > previousBalanceTotal) {
          alert('Insufficient funds');
          return;
        }

         //step 4

         const currentWithdrawAmount = newWithdrawAmount + previousWithdrawAmount;
          withdrawAmount.innerText = currentWithdrawAmount;


        // Balance total amount calculation between new withdraw and previous balance total
        const currentBalanceTotal = previousBalanceTotal - newWithdrawAmount;
        balanceTotal.innerText = currentBalanceTotal;



    
})

    </script>
  </body>
</html>
